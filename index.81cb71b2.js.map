{"mappings":"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","sources":["src/js/cocktails-modal-logic.js"],"sourcesContent":["import { addCocktailToLocalStorage, removeCocktailFromLocalStorage } from './add-to-remove-localstorage';\nimport { fetchDrinkById } from './fetchFunction';\nimport { openIngredientsModal } from './modal-ingredients';  \n\n\nconst cocktailsModal = document.querySelector('[data-cocktails-modal]');\nconst closeCocktailsModalBtn = document.querySelector(\n  '[data-cocktails-modal-close]'\n);\nconst drinkInfo = document.querySelector('.cocktails-modal-content-wrap');\nconst cocktailsList = document.querySelector('.cocktail-list');\n\nconst docBody = document.querySelector('body');\n\nexport function toggleModal() {\n  cocktailsModal.classList.toggle('is-hidden');\n  docBody.classList.toggle('modal-cocktails-open');\n}\n\ncloseCocktailsModalBtn.addEventListener('click', toggleModal);\ncocktailsModal.addEventListener('click', e => {\n  if (e.target !== cocktailsModal) {\n    if (e.target.classList.contains('add-to-favorite')) {\n      addCocktailToLocalStorage(e)\n    }\n    if (e.target.classList.contains('remove-from-favorite')) {\n      removeCocktailFromLocalStorage(e)\n    }\n    return;\n  }\n  toggleModal();\n});\n\nexport async function renderDrinkInfo(data) {\n  const drink = data.drinks[0];\n  \n  const savedTheme = localStorage.getItem('ui-theme');\n\n  const ingArr = [];\n  let liMarkup;\n\n  for (let i = 1; i < 16; i++) {\n    const ingredient = drink[`strIngredient${i}`];\n    let measure = drink[`strMeasure${i}`];\n    if (ingredient) {\n      if (!measure) {\n        measure = '';\n      }\n      if (savedTheme === 'dark') {\n        ingArr.push(\n          `<li class=\"cocktail-ingredients-list-item\" data-ingredient-name='${ingredient}'>\n          <p class=\"js-ingredients-modal dark-theme-light-grey\"><span class=\"dark-theme\">&#10038;</span> ${measure} ${ingredient}</p>\n        </li>`\n        );\n      } else {\n        ingArr.push(\n          `<li class=\"cocktail-ingredients-list-item\" data-ingredient-name='${ingredient}'>\n          <p class=\"js-ingredients-modal\"><span>&#10038;</span> ${measure} ${ingredient}</p>\n        </li>`\n        );\n      }\n      liMarkup = ingArr.join('');\n    }\n  }\n\n  let markup;\n\n  if (savedTheme === 'dark') {\n    markup = `<h2 class=\"cocktail-title dark-theme\">${drink.strDrink}</h2>\n      <div class=\"cocktail-description\">\n        <h3 class=\"cocktail-description__title dark-theme\">Instructions:</h3>\n        <p class=\"cocktail-description__text dark-theme-light-grey\">\n          ${drink.strInstructions}\n        </p>\n      </div>\n      <img src=\"${drink.strDrinkThumb}\" alt=\"${drink.strCategory}\" class=\"cocktail-image\" />\n      <div class=\"cocktail-ingredients\">\n        <h3 class=\"cocktail-ingredients__title dark-theme\">Ingredients</h3>\n        <p class=\"cocktail-ingredients__remark dark-theme\">Per cocktail</p>\n        <ul class=\"cocktail-ingredients-list\">\n          ${liMarkup}\n        </ul>\n      </div>`;\n    cocktailsModal.firstElementChild.classList.add('dark-size');\n  } else {\n    markup = `<h2 class=\"cocktail-title\">${drink.strDrink}</h2>\n      <div class=\"cocktail-description\">\n        <h3 class=\"cocktail-description__title\">Instructions:</h3>\n        <p class=\"cocktail-description__text\">\n          ${drink.strInstructions}\n        </p>\n      </div>\n      <img src=\"${drink.strDrinkThumb}\" alt=\"${drink.strCategory}\" class=\"cocktail-image\" />\n      <div class=\"cocktail-ingredients\">\n        <h3 class=\"cocktail-ingredients__title\">Ingredients</h3>\n        <p class=\"cocktail-ingredients__remark\">Per cocktail</p>\n        <ul class=\"cocktail-ingredients-list\">\n          ${liMarkup}\n        </ul>\n      </div>`;\n    cocktailsModal.firstElementChild.classList.remove('dark-size');\n  }\n\n  const localFavorite = JSON.parse(localStorage.getItem('favoriteList'))\n  const favoriteCocktail = localFavorite.favoriteCocktails.map(el => {\n    return el.idDrink;\n  });\n  if(favoriteCocktail.includes(Number(drink.idDrink))){\n    document.querySelector('.cocktails-modal-favorite').classList.remove('add-to-favorite')\n    document.querySelector('.cocktails-modal-favorite').classList.add('remove-from-favorite')\n    document.querySelector('.cocktails-modal-favorite').innerText = 'Remove from favorite';\n  }else{\n    document.querySelector('.cocktails-modal-favorite').classList.add('add-to-favorite')\n    document.querySelector('.cocktails-modal-favorite').classList.remove('remove-from-favorite')\n    document.querySelector('.cocktails-modal-favorite').innerText = 'Add to favorite';\n  }\n\n  drinkInfo.innerHTML = markup;\n  \n  const modalIngredientsList = document.querySelector('.cocktail-ingredients-list')\n\n  modalIngredientsList.addEventListener('click', openIngredientsModal)\n\n}\n\nexport async function openCocktailsModal(e) {\n  if (e.target.classList.contains('cocktail-item__learn-more')) {    \n    const elemId = e.target.parentNode.dataset.idDrink;\n    document.querySelector('.cocktails-modal').dataset.idDrink = elemId;\n    const foundedDrink = await fetchDrinkById(elemId);\n    renderDrinkInfo(foundedDrink);\n    toggleModal();\n  }\n  if(e.target.classList.contains('cocktail-item__add-to')){\n    addCocktailToLocalStorage(e)\n  }\n  if(e.target.classList.contains('cocktail-item__remove')){\n    removeCocktailFromLocalStorage(e)\n  }\n}\n\ncocktailsList.addEventListener('click', openCocktailsModal);\n"],"names":["$bpxeT","parcelRequire","$1d51a6cc17b59a23$var$cocktailsModal","document","querySelector","$1d51a6cc17b59a23$var$closeCocktailsModalBtn","$1d51a6cc17b59a23$var$drinkInfo","$1d51a6cc17b59a23$var$cocktailsList","$1d51a6cc17b59a23$var$docBody","$1d51a6cc17b59a23$export$313c6d35f75fc0e","classList","toggle","$1d51a6cc17b59a23$export$c12d30439a36aa6","data","$1d51a6cc17b59a23$var$_renderDrinkInfo","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","drink","savedTheme","ingArr","liMarkup","i","ingredient","measure","markup","localFavorite","drinks","localStorage","getItem","concat","push","join","strDrink","strInstructions","strDrinkThumb","strCategory","firstElementChild","add","remove","JSON","parse","favoriteCocktails","map","el","idDrink","includes","Number","innerText","innerHTML","addEventListener","$6alNL","openIngredientsModal","$1d51a6cc17b59a23$var$_openCocktailsModal","e","elemId","target","contains","parentNode","dataset","$gpzZK","fetchDrinkById","_ctx","sent","$dKbLb","addCocktailToLocalStorage","removeCocktailFromLocalStorage"],"version":3,"file":"index.81cb71b2.js.map"}